spring:
    cloud:
        gateway:
            server:
                webflux:
                    discovery:
                        locator:
                            enabled: true
                    routes: # Endpoints normales de auth
                        -   id: auth-service
                            uri: lb://AUTH-SERVICE
                            predicates:
                                - Path=/api/v1/auth/**

                        # Endpoint para user
                        -   id: auth-service-user
                            uri: lb://AUTH-SERVICE
                            predicates:
                                - Path=/api/v1/users/**

                        # Endpoint para CSRF
                        -   id: auth-service-csrf
                            uri: lb://AUTH-SERVICE
                            predicates:
                                - Path=/api/v1/csrf/**

                        # Inicio de OAuth2
                        -   id: auth-service-oauth-start
                            uri: lb://AUTH-SERVICE
                            predicates:
                                - Path=/api/v1/oauth2/authorization/**

                        # Callback de OAuth2
                        -   id: auth-service-oauth-callback
                            uri: lb://AUTH-SERVICE
                            predicates:
                                - Path=/login/oauth2/code/**

                        # Endpoints normales de doctor
                        -   id: doctor-service
                            uri: lb://DOCTOR-SERVICE
                            predicates:
                                - Path=/api/v1/doctors/**

                        -   id: doctor-service-specialties
                            uri: lb://DOCTOR-SERVICE
                            predicates:
                                - Path=/api/v1/specialties/**

                        -   id: doctor-service-schedules
                            uri: lb://DOCTOR-SERVICE
                            predicates:
                                - Path=/api/v1/schedules/**

                        -   id: doctor-service-unavailabilities
                            uri: lb://DOCTOR-SERVICE
                            predicates:
                                - Path=/api/v1/doctor-unavailabilities/**

                        -   id: doctor-service-availability
                            uri: lb://DOCTOR-SERVICE
                            predicates:
                                - Path=/api/v1/doctor-availability/**

                        # Endpoints normales de patient
                        -   id: patient-service
                            uri: lb://PATIENT-SERVICE
                            predicates:
                                - Path=/api/v1/patients/**

                        # Endpoints normales de appointment
                        -   id: appointment-service
                            uri: lb://APPOINTMENT-SERVICE
                            predicates:
                                - Path=/api/v1/appointments/**

                        -   id: appointment-service-dashboard
                            uri: lb://APPOINTMENT-SERVICE
                            predicates:
                                - Path=/api/v1/dashboard/**
server:
    port: ${GATEWAY_SERVER_PORT}

application:
    front-end:
        url: ${FRONT_END_URL}
        domain: ${FRONT_END_DOMAIN}
    security:
        jwt:
            secret-key: ${JWT_SECRET_KEY}